(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,n){t.apiUrl="http://whosin.site"},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),a=n.n(i),s=n(32),r=n.n(s),o=(n(43),n(12)),l=n(2),d=(n(44),n(4)),j=(n(45),n.p,n.p+"static/media/whosinlogo.fb3e51de.png"),b=function(){var e=Object(i.useState)(0),t=Object(d.a)(e,2),n=t[0],a=t[1],s=function(){a(0==n?1:0)};return Object(c.jsxs)("div",{className:"navbar-container",children:[Object(c.jsx)("img",{className:"navbar-logo",src:j}),Object(c.jsx)("button",{className:"drop-down-button",onClick:s,children:"Menu"}),Object(c.jsx)("div",{className:"drop-down-cntr",children:1==n?Object(c.jsx)("div",{className:"drop-down-menu-cntr",children:Object(c.jsx)(o.b,{to:"/createevent",onClick:s,children:"Create Event"})}):Object(c.jsx)("div",{})})]})},u=n(11),p=n(13),O=n.n(p),h=n(10),v=n(33);function x(){var e=Object(v.a)(["\n    border: none;\n    background-color: #2057c5;\n    border-radius: 5pt;\n    height: 40pt;\n    width: 80pt;\n    font-size: x-large;\n    text-align: center;\n    padding:1vh;\n    margin:1vh;\n    cursor: pointer;\n"]);return x=function(){return e},e}var m=n(34).a.button(x()),g=function(e){return Object(c.jsx)(m,{onClick:e.onClick,children:e.text})};n(67);var f=function(){var e,t=Object(i.useState)((e={maxParticipants:0,price:0},Object(u.a)(e,"maxParticipants",0),Object(u.a)(e,"priceForGroup",1),Object(u.a)(e,"description",""),e)),n=Object(d.a)(t,2),a=n[0],s=n[1],r=Object(i.useState)(0),o=Object(d.a)(r,2),j=(o[0],o[1],Object(i.useState)(0)),b=Object(d.a)(j,2),p=b[0],v=b[1],x=Object(i.useState)({price:0,maxParticipants:0,description:0}),m=Object(d.a)(x,2),f=m[0],N=m[1],C=Object(l.f)();Object(i.useEffect)((function(){console.log(a.eventId),void 0!=a.eventId&&(C.push("/event/"+a.eventId),I(a))}),[a.eventId]);var I=function(e){O.a.post(h.apiUrl+"/insertevent",{event:e}).then((function(e){console.log(e)})),console.log(a)},k=function(e){var t=Object(u.a)({},e.target.name,e.target.value);s(Object.assign({},a,t)),console.log(a)},w=function(e){var t=e.target.id;if(0===f[t]){var n=Object(u.a)({},e.target.id,1);console.log(n),N(Object.assign({},f,n))}else{var c=Object(u.a)({},e.target.id,0);console.log(c),N(Object.assign({},f,c))}console.log(f)};return Object(c.jsxs)("div",{className:"create-event-container",children:[Object(c.jsxs)("div",{className:"extras-menu-container",children:[Object(c.jsx)("div",{className:"extra-button-container",children:Object(c.jsx)("button",{className:"extra-button",onClick:function(){v(0==p?1:0)},children:"More options"})}),function(){if(1==p)return Object(c.jsxs)("div",{className:"option-container",children:[Object(c.jsx)("div",{className:"extra-option",id:"price",onClick:w,children:"Price"}),Object(c.jsx)("div",{className:"extra-option",id:"maxParticipants",onClick:w,children:"Participant limit"}),Object(c.jsx)("div",{className:"extra-option",id:"description",onClick:w,children:"description"})]})}()]}),Object(c.jsx)("div",{className:"create-event-inner-container",children:Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={eventId:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}()};s(Object.assign({},a,t))},children:Object(c.jsxs)("div",{className:"form-container",children:[Object(c.jsx)("label",{children:"Event Name"}),Object(c.jsx)("input",{className:"input-field",name:"eventName",onChange:k,autoComplete:"off",required:!0}),Object(c.jsx)("label",{children:"Date"}),Object(c.jsx)("input",{className:"input-field",type:"date",name:"eventDate",onChange:k}),Object(c.jsxs)("div",{children:[1==f.price?Object(c.jsxs)("div",{className:"extras",children:[Object(c.jsx)("label",{children:"Price"}),Object(c.jsx)("input",{className:"input-field",name:"price",onChange:k,autoComplete:"off"}),Object(c.jsxs)("div",{className:"radio-cnt",children:[Object(c.jsx)("div",{className:"radio",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{name:"priceForGroup",type:"radio",value:"0",onChange:k}),"Per Person"]})}),Object(c.jsx)("div",{className:"radio",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{name:"priceForGroup",type:"radio",value:"1",onChange:k}),"For Group"]})})]})]}):Object(c.jsx)("div",{}),1==f.maxParticipants?Object(c.jsxs)("div",{className:"max-parts-input",children:[Object(c.jsx)("label",{children:"How many can attend?"}),Object(c.jsx)("input",{className:"input-field",name:"maxParticipants",onChange:k,autoComplete:"off"})]}):Object(c.jsx)(c.Fragment,{}),1==f.description?Object(c.jsxs)("div",{className:"description-input-cntr",children:[Object(c.jsx)("label",{children:"Event Description:"}),Object(c.jsx)("textarea",{className:"text-area",name:"description",onChange:k,autoComplete:"off"})]}):Object(c.jsx)(c.Fragment,{})]}),Object(c.jsx)("div",{className:"create-button-container",children:Object(c.jsx)(g,{text:"Create!",type:"submit"})})]})})})]})},N=n(72),C=n(73);n(68);var I=function(e){var t=Object(N.a)(["user"]),n=Object(d.a)(t,3),a=n[0],s=n[1],r=(n[2],Object(i.useState)([])),o=Object(d.a)(r,2),j=o[0],b=o[1],u=Object(i.useState)([]),p=Object(d.a)(u,2),v=p[0],x=p[1],m=Object(i.useState)(""),g=Object(d.a)(m,2),f=g[0],I=g[1],k=Object(i.useState)(""),w=Object(d.a)(k,2),S=(w[0],w[1]),P=Object(i.useState)(""),y=Object(d.a)(P,2),D=y[0],F=y[1],M=Object(i.useState)("show"),U=Object(d.a)(M,2),E=U[0],A=U[1],G=Object(i.useState)("show"),J=Object(d.a)(G,2),Y=J[0],q=J[1],z=Object(l.g)().eventid;console.log("apiUrl",h.apiUrl);var B=function(e){var t="";null==a.userId?(console.log("userid null"),t=Object(C.a)(),S(t),s("userId",t,{maxAge:"100000000",sameSite:"strict"}),s("name",f,{maxAge:"100000000",sameSite:"strict"})):(console.log("userid not null"),t=a.userId,e&&(console.log("submit new"),t=Object(C.a)())),O.a.post(h.apiUrl+"/signupforevent",{name:f,eventId:z,participantId:t}).then((function(e){console.log(e),q("hide"),F(f)}))};function H(e){var t=!1,n=a.userId;console.log("checkId =",n);for(var c=0;c<e.length;c++)if(console.log(c,e[c].participantId),e[c].participantId==n){t=!0;break}return console.log("includes =",t),t}Object(i.useEffect)((function(){O.a.post(h.apiUrl+"/getevent",{eventId:z}).then((function(e){if(console.log("firstdata"),console.log(e.data),0===e.data[0].length){var t=0;F(t++)}O.a.post(h.apiUrl+"/getparticipants",{eventId:z}).then((function(t){var n=e.data[0];console.log("eventobj"),console.log(n),console.log(n.eventDate);var c=n.eventDate.split("-").reverse().join(".");n.eventDate=c,b(n),console.log(t.data),x(t.data);var i=a.userId;console.log("userId",i),null!=i&&(S(i),I(a.name),1==H(t.data)&&q("hide"))}))}))}),[D]);var K=function(){0==H(v)?(console.log("submit participantcheck false"),B(!1)):(console.log("submit participantcheck true"),1==window.confirm("You've already signed up!\nDo you want to sign up again?")&&B(!0))},L=function(){A("hide"===E?"show":"hide")},Q=function(){q("show")};return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"event-header",children:j.eventName}),Object(c.jsxs)("div",{className:"event-data-cntr",children:[Object(c.jsx)("div",{className:"event-data",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:j.eventDate}),Object(c.jsx)("div",{})]})}),Object(c.jsx)("div",{className:"event-data",children:function(){if(console.log(j.price),1==j.priceForGroup){var e=0;return e=0===v.length?j.price:Math.round(j.price/v.length*100)/100,Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Price per person:"}),Object(c.jsxs)("div",{children:[e,"\u20ac"]})]})}return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Price per person:"}),Object(c.jsxs)("div",{children:[j.price,"\u20ac"]})]})}()}),Object(c.jsx)("div",{className:"event-data",children:Object(c.jsxs)("div",{children:[v.length," Signed up"]})}),Object(c.jsx)("div",{className:"event-data",children:function(){if(j.maxParticipants>0){var e=j.maxParticipants-v.length;return Object(c.jsxs)("div",{children:[e," Spots left"]})}return Object(c.jsx)("div",{})}()})]}),Object(c.jsx)("div",{className:"description-cntr",children:void 0==j.description?Object(c.jsx)(c.Fragment,{}):"hide"===E?Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"description-header-cntr",children:[Object(c.jsx)("div",{className:"description-header",children:"description:"}),Object(c.jsx)("button",{className:"description-button",onClick:L,children:E})]}),Object(c.jsx)("div",{children:j.description})]}):"show"===E?Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"description-header-cntr",children:[Object(c.jsx)("div",{className:"description-header",children:"description:"}),Object(c.jsx)("button",{className:"description-button",onClick:L,children:E})]}),Object(c.jsxs)("div",{children:[j.description.substr(0,20),"..."]})]}):void 0}),Object(c.jsx)("div",{children:"show"==Y?Object(c.jsxs)("div",{className:"signup-cnt",children:[Object(c.jsx)("label",{children:"name"}),Object(c.jsx)("input",{className:"signup-field",name:"signupname",value:f,onInput:function(e){return I(e.target.value)}}),Object(c.jsx)("div",{className:"center",children:Object(c.jsx)("button",{className:"signup-button",onClick:K,children:"Count Me In!"})})]}):Object(c.jsxs)("div",{className:"signup-cnt",children:[Object(c.jsx)("div",{className:"signeup-header",children:"You've already signed up"}),Object(c.jsxs)("div",{className:"signedup-name",children:[a.name,"!"]}),Object(c.jsx)("button",{className:"signup-extra-button",onClick:Q,children:"Sign up someone else"})]})}),Object(c.jsx)("div",{className:"participant-cnt",children:Object(c.jsx)("div",{children:v.map((function(e){return Object(c.jsx)("div",{children:e.participantName},e.participantId)}))})})]})};var k=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("header",{className:"App-header",children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(l.a,{path:"/",children:Object(c.jsx)(b,{})}),Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/createevent",children:Object(c.jsx)(f,{})}),Object(c.jsx)(l.a,{path:"/signup",children:Object(c.jsx)(I,{})}),Object(c.jsx)(l.a,{path:"/event/:eventid",children:Object(c.jsx)(I,{})})]})]})})})};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(k,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.130c0b6d.chunk.js.map