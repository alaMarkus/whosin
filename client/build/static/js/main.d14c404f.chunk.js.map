{"version":3,"sources":["config/config.js","whosinlogo.png","menu2.png","components/Navbar.js","components/elements/MyButton.js","components/CreateEvent.js","components/Event.js","App.js","index.js"],"names":["exports","apiUrl","Navbar","useState","showDropdown","setDropDown","toggleDropdown","className","src","logo","onClick","to","Button","styled","button","MyButton","props","text","CreateEvent","event","setEvent","showExtras","setShowExtras","selectedExtras","setSelectedExtras","history","useHistory","useEffect","console","log","eventId","undefined","sendRequest","eventObj","axios","post","then","result","push","handleChange","e","obj1","target","name","value","Object","assign","handleExtras","extra","id","selectExtras","onSubmit","preventDefault","possible","i","charAt","Math","floor","random","length","makeid","onChange","autoComplete","required","type","price","maxParticipants","description","Event","useCookies","cookies","setCookie","eventData","setEventData","participants","setParticipants","signName","setSignName","setUserId","render","setRender","showDescription","setShowDescription","showSignUp","setShowSignUp","eventid","useParams","signUpRequest","submitNew","idToUse","userId","uuid","maxAge","sameSite","participantChecker","parti","includes","checkId","participantId","result2","data","eventDate","formattedDate","split","reverse","join","tempId","handleSubmit","window","confirm","handleHide","handleExtra","eventName","priceForGroup","calculatedPrice","round","showCalculatedPrice","left","spotsLeft","substr","onInput","map","participantName","App","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d14c404f.chunk.js","sourcesContent":["if (process.env.NODE_ENV === 'production'){\r\n    //exports.apiUrl = \"http://whosin.site\"\r\n    exports.apiUrl = \"http://95.216.173.144:8085\"\r\n    //exports.apiUrl = \"http://127.0.0.1:8085\"\r\n}else{\r\n    exports.apiUrl = \"http://localhost:8085\"\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/whosinlogo.fb3e51de.png\";","export default __webpack_public_path__ + \"static/media/menu2.ace9d0a9.png\";","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport \"./navbar.css\"\r\nimport menuicon from '../menu2.png'\r\nimport logo from '../whosinlogo.png'\r\n\r\nconst Navbar = () =>{\r\n    const [showDropdown, setDropDown] = useState(0)\r\n\r\n    const toggleDropdown = () =>{\r\n        if (showDropdown == 0){\r\n            setDropDown(1)\r\n        }else{\r\n            setDropDown(0)\r\n        }\r\n    }\r\n    const dropDown = () =>{\r\n        if (showDropdown==1){\r\n            return (\r\n                <div className=\"drop-down-menu-cntr\">\r\n                    <Link className='drop-down-create-event' to=\"/createevent\" onClick={toggleDropdown}>Create Event</Link>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <div></div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"navbar-container\">\r\n            <img className =\"navbar-logo\" src={logo}/>\r\n            <button className = \"drop-down-button\" onClick={toggleDropdown}>Menu</button>\r\n            <div className = \"drop-down-cntr\">{dropDown()}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react'\r\nimport styled from \"styled-components\"\r\n\r\nconst Button = styled.button`\r\n    border: none;\r\n    background-color: #2057c5;\r\n    border-radius: 5pt;\r\n    height: 40pt;\r\n    width: 80pt;\r\n    font-size: x-large;\r\n    text-align: center;\r\n    padding:1vh;\r\n    margin:1vh;\r\n    cursor: pointer;\r\n`\r\n\r\nconst MyButton = (props) =>{\r\n    return (\r\n        <Button onClick={props.onClick}>{props.text}</Button>\r\n    )\r\n}\r\n\r\nexport default MyButton;","import React,{useState, use, useEffect} from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport {apiUrl} from \"../config/config\"\r\nimport MyButton from \"./elements/MyButton\"\r\nimport \"./create-event.css\"\r\n\r\nfunction makeid() {\r\n    var text = \"\";\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n    for (var i = 0; i < 6; i++)\r\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n  \r\n    return text;\r\n  }\r\n\r\n\r\nconst CreateEvent = () =>{\r\n    const [event, setEvent] = useState({\"maxParticipants\": 0,\"price\":0,\"maxParticipants\": 0, \"priceForGroup\": 1,\"description\":\" \"})\r\n    const [maxParts, setMaxParts] = useState(0)\r\n    const [showExtras, setShowExtras] = useState(0)\r\n    const [selectedExtras, setSelectedExtras] = useState({\"price\":0,\"maxParticipants\": 0,\"description\":0})\r\n    const history = useHistory()\r\n\r\n    useEffect(()=>{\r\n        console.log(event.eventId)\r\n        if(event.eventId!=undefined){\r\n            sendRequest(event)\r\n        }\r\n    },[event.eventId])\r\n\r\n    const handleSubmit = (e) =>{\r\n        e.preventDefault();\r\n            const baseId = makeid()\r\n            const obj1 = {\"eventId\":baseId}\r\n            setEvent(Object.assign({},event,obj1))\r\n    }\r\n\r\n    const sendRequest = (eventObj) =>{\r\n        axios\r\n            .post(apiUrl+\"/insertevent\", {\"event\":eventObj})\r\n            .then(function(result){\r\n                console.log(result)\r\n                history.push(\"/event/\"+event.eventId)\r\n            })\r\n        console.log(event)\r\n    }\r\n\r\n    const handleChange = (e) =>{\r\n        const obj1 = {[e.target.name]: e.target.value};\r\n        setEvent(\r\n            Object.assign({},event,obj1)\r\n        )\r\n        console.log(event)\r\n    }\r\n\r\n\r\n    const price = () => {\r\n        if (selectedExtras.price==1){\r\n            return (\r\n                <div className=\"extras\">\r\n                    <label>Price</label>\r\n                    <input className=\"input-field\" name =\"price\" onChange={handleChange} autoComplete=\"off\"></input>\r\n                        <div className=\"radio-cnt\">\r\n                            <div className=\"radio\">\r\n                                <label>\r\n                                    <input name =\"priceForGroup\" type=\"radio\" value=\"0\" onChange={handleChange}/>\r\n                                    Per Person\r\n                                </label>\r\n                            </div>\r\n                                <div className=\"radio\">\r\n                                <label>\r\n                                    <input name =\"priceForGroup\"  type=\"radio\" value=\"1\" onChange={handleChange}/>\r\n                                    For Group\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return (<div></div>)\r\n        }\r\n    }\r\n\r\n    const participantLimit = () =>{\r\n        if(selectedExtras.maxParticipants==1){\r\n            return (\r\n                <div className=\"max-parts-input\">\r\n                    <label>How many can attend?</label>\r\n                    <input className=\"input-field\" name = \"maxParticipants\" onChange={handleChange} autoComplete=\"off\"></input>\r\n                </div>\r\n            )\r\n        }else{\r\n            return (<></>)\r\n        }\r\n    }\r\n\r\n    const description = () =>{\r\n        if(selectedExtras.description==1){\r\n            return(\r\n                <div className=\"description-input-cntr\">\r\n                    <label>Event Description:</label>\r\n                    <textarea className=\"text-area\" name=\"description\" onChange={handleChange} autoComplete=\"off\"></textarea>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(<></>)\r\n        }\r\n    }\r\n\r\n    const handleButton = () => {\r\n        if (showExtras==0){\r\n            setShowExtras(1)\r\n        }else{\r\n            setShowExtras(0)\r\n        }\r\n    }\r\n\r\n    const handleExtras = (e) =>{\r\n        const extra = (e.target.id)\r\n        if (selectedExtras[extra]===0){\r\n            const obj1 = {[e.target.id]: 1};\r\n            console.log(obj1)\r\n            setSelectedExtras(Object.assign({},selectedExtras,obj1))\r\n        }else{\r\n            const obj1 = {[e.target.id]: 0};\r\n            console.log(obj1)\r\n            setSelectedExtras(Object.assign({},selectedExtras,obj1))\r\n        }\r\n        console.log(selectedExtras)\r\n    }\r\n\r\n    const selectExtras = () =>{\r\n        if (showExtras==1){\r\n            return (\r\n                <div className=\"option-container\">\r\n                    <div className=\"extra-option\" id=\"price\" onClick={handleExtras}>Price</div>\r\n                    <div className=\"extra-option\" id=\"maxParticipants\" onClick={handleExtras}>Participant limit</div>\r\n                    <div className=\"extra-option\" id=\"description\" onClick={handleExtras}>description</div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"create-event-container\">\r\n            <div className=\"extras-menu-container\">\r\n                <div className=\"extra-button-container\">\r\n                    <button className=\"extra-button\" onClick={handleButton}>More options</button>\r\n                </div>\r\n                {selectExtras()}\r\n            </div>\r\n            <div className=\"create-event-inner-container\">\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className = \"form-container\">\r\n                        <label>Event Name</label>\r\n                        <input className=\"input-field\" name=\"eventName\" onChange={handleChange} autoComplete=\"off\" required ></input>\r\n\r\n                        <label>Date</label>\r\n                        <input className=\"input-field\" type=\"date\" name=\"eventDate\" onChange={handleChange}></input>\r\n                        <div>\r\n                            {price()}\r\n                            {participantLimit()}\r\n                            {description()}\r\n                        </div>\r\n                        <div className=\"create-button-container\">\r\n                            <MyButton text = \"Create!\" type=\"submit\"/>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateEvent;","import {React,useEffect,useState} from 'react'\r\nimport {BrowserRouter as Router, Switch, Link, Route, useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport {Cookies,useCookies} from 'react-cookie'\r\nimport {v4 as uuid} from 'uuid'\r\n\r\nimport {apiUrl} from \"../config/config\"\r\nimport \"./event.css\"\r\nimport MyButton from \"./elements/MyButton\"\r\n\r\n\r\nfunction pricePerPeson(total, people){\r\n    return total/people\r\n}\r\n\r\nconst Event = (props) =>{\r\n    const [cookies, setCookie, removeCookie] = useCookies(['user']);\r\n\r\n    const [eventData, setEventData] = useState([])\r\n    const [participants, setParticipants] = useState([])\r\n    const [signName, setSignName] = useState('')\r\n    const [userId, setUserId] = useState('')\r\n    const [render, setRender] = useState('')\r\n\r\n    const [showDescription, setShowDescription] = useState(\"show\")\r\n    const [showSignUp, setShowSignUp] = useState(\"show\")\r\n\r\n\r\n    const { eventid } = useParams();\r\n\r\n    console.log(\"apiUrl\", apiUrl)\r\n\r\n    const signUpRequest = (submitNew) =>{\r\n        let idToUse = \"\"\r\n        if (cookies.userId==null){\r\n            console.log(\"userid null\")\r\n            idToUse = uuid()\r\n            setUserId(idToUse)\r\n            setCookie(\"userId\", idToUse,{maxAge:\"100000000\",sameSite:\"strict\"})\r\n            setCookie(\"name\", signName,{maxAge:\"100000000\",sameSite:\"strict\"})\r\n        }else{\r\n            console.log(\"userid not null\")\r\n            idToUse=cookies.userId\r\n            if(submitNew){\r\n                console.log(\"submit new\")\r\n                idToUse = uuid()\r\n            }\r\n        }\r\n        axios\r\n            .post(apiUrl+\"/signupforevent\", {\"name\": signName, \"eventId\":eventid,\"participantId\": idToUse})\r\n            .then(function(result){\r\n                console.log(result)\r\n                setShowSignUp(\"hide\")\r\n                setRender(signName)\r\n                setSignName(signName)\r\n            })\r\n    }\r\n\r\n    function participantChecker(parti){\r\n        let includes = false\r\n        const checkId = cookies.userId\r\n        console.log(\"checkId =\",checkId)\r\n        for (let i =0;i<parti.length;i++){\r\n            console.log(i,parti[i].participantId)\r\n            if (parti[i].participantId==checkId){\r\n                includes = true;\r\n                break;\r\n            }\r\n        }\r\n        console.log(\"includes =\",includes)\r\n        return includes\r\n    }\r\n\r\n    useEffect(()=>{\r\n        axios.post(apiUrl+\"/getevent\", {\"eventId\": eventid})\r\n            .then(function(result){\r\n                /*\r\n                console.log(\"firstdata\")\r\n                console.log(result.data)\r\n                if(result.data==undefined){\r\n                    setRender(\"test\")\r\n                }*/\r\n                axios.post(apiUrl+\"/getparticipants\", {\"eventId\": eventid})\r\n                    .then(function(result2){\r\n                        const eventObj = result.data[0]\r\n                        console.log(\"eventobj\")\r\n                        console.log(eventObj)\r\n                        console.log(eventObj.eventDate)\r\n                        const date = eventObj.eventDate\r\n                        const formattedDate = date.split(\"-\").reverse().join(\".\")\r\n                        eventObj.eventDate = formattedDate\r\n                        setEventData(eventObj)\r\n                        console.log(result2.data)\r\n                        setParticipants(result2.data)\r\n\r\n                        const tempId = cookies.userId\r\n                        console.log(\"userId\", tempId)\r\n\r\n                        if(tempId!=null){\r\n                            setUserId(tempId)\r\n                            setSignName(cookies.name)\r\n                            if(participantChecker(result2.data)==true){\r\n                                setShowSignUp(\"hide\")\r\n                            }\r\n                        }\r\n                    })\r\n            })\r\n    },[render])\r\n\r\n\r\n\r\n\r\n    const handleSubmit = () => {\r\n        if(participantChecker(participants)==false){\r\n            console.log(\"submit participantcheck false\")\r\n            signUpRequest(false)\r\n        }else{\r\n            console.log(\"submit participantcheck true\")\r\n            const conf = window.confirm(\"You've already signed up!\\nDo you want to sign up again?\")\r\n            if (conf==true){\r\n                signUpRequest(true)\r\n                cookies.name = signName\r\n            }else{\r\n            }\r\n        }\r\n    }\r\n\r\n    const showCalculatedPrice = () =>{\r\n        console.log(eventData.price)\r\n        if (eventData.priceForGroup==1){\r\n            let calculatedPrice=0\r\n            if (participants.length===0){\r\n                calculatedPrice = eventData.price\r\n            }else{\r\n                calculatedPrice = Math.round(eventData.price/participants.length*100)/100\r\n            }\r\n            return (\r\n                <div>\r\n                    <div>Price per person:</div>\r\n                    <div>{calculatedPrice}€</div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return (\r\n                <div>\r\n                    <div>Price per person:</div>\r\n                    <div>{eventData.price}€</div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const spotsLeft = () =>{\r\n        if (eventData.maxParticipants > 0){\r\n            const left = eventData.maxParticipants-participants.length\r\n            return (\r\n                <div>\r\n                    {left} Spots left\r\n                </div>\r\n            )\r\n        }else{\r\n            return (\r\n                <div></div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const participantNumber = () => {\r\n        return(\r\n            <div>\r\n                {participants.length} Signed up\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const description = () =>{\r\n        if (eventData.description!=undefined){\r\n            if (showDescription === \"hide\"){\r\n                return(\r\n                    <div>\r\n                        <div className=\"description-header-cntr\">\r\n                            <div className=\"description-header\">description:</div>\r\n                            <button className=\"description-button\" onClick={handleHide}>{showDescription}</button>\r\n                        </div>\r\n                        <div>{eventData.description}</div>\r\n                    </div>\r\n                )\r\n            }\r\n            if (showDescription===\"show\"){\r\n                return(\r\n                    <div>\r\n                        <div className=\"description-header-cntr\">\r\n                            <div className=\"description-header\">description:</div>\r\n                            <button className=\"description-button\" onClick={handleHide}>{showDescription}</button>\r\n                        </div>\r\n                        <div>{eventData.description.substr(0,20)}...</div>\r\n                    </div>\r\n                )   \r\n            }\r\n        }else{\r\n            return (\r\n                <></>\r\n            )\r\n        }\r\n    }\r\n\r\n    const dateAndTime = () =>{\r\n        return(\r\n            <div>\r\n                <div>{eventData.eventDate}</div>\r\n                <div></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const handleHide = () =>{\r\n        showDescription===\"hide\"?setShowDescription(\"show\"):setShowDescription(\"hide\")\r\n    }\r\n\r\n    const handleExtra = () =>{\r\n        setShowSignUp(\"show\")\r\n    }\r\n\r\n    const signUpper = () => {\r\n        if (showSignUp == \"show\"){\r\n            return (\r\n                <div className=\"signup-cnt\">\r\n                    <label>name</label>\r\n                    <input className=\"signup-field\" name=\"signupname\" value = {signName} onInput={e=>setSignName(e.target.value)}/>\r\n                    <div className=\"center\">\r\n                        <button className=\"signup-button\" onClick = {handleSubmit}>Count Me In!</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n            <div className=\"signup-cnt\">\r\n                <div className=\"signeup-header\">You've already signed up</div>\r\n                <div className=\"signedup-name\">{signName}!</div>\r\n                <button className=\"signup-extra-button\" onClick={handleExtra}>Sign up someone else</button>\r\n            </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className = \"event-header\">{eventData.eventName}</div>\r\n            <div className=\"event-data-cntr\">\r\n                <div className=\"event-data\">{dateAndTime()}</div>\r\n                <div className=\"event-data\">{showCalculatedPrice()}</div>\r\n                <div className=\"event-data\">{participantNumber()}</div>\r\n                <div className=\"event-data\">{spotsLeft()}</div>\r\n            </div>\r\n            <div className=\"description-cntr\">{description()}</div>\r\n            <div>\r\n                {signUpper()}\r\n            </div>\r\n            <div className=\"participant-cnt\">\r\n                <div>\r\n                    {participants.map(e=>{return(<div key={e.participantId}>{e.participantName}</div>)})}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Event;","import React,{useContext} from 'react'\nimport {BrowserRouter as Router, Switch, Link, Route, useParams} from 'react-router-dom'\nimport './App.css';\nimport Navbar from \"./components/Navbar\"\nimport CreateEvent from \"./components/CreateEvent\"\nimport Event from \"./components/Event\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Router>\n          <Route path=\"/\">\n            <Navbar/>\n          </Route>\n          <Switch>\n          <Route path=\"/createevent\">\n            <CreateEvent/>\n          </Route>\n          <Route path=\"/signup\">\n            <Event/>\n          </Route>\n          <Route path=\"/event/:eventid\">\n            <Event />\n          </Route>\n          </Switch>\n        </Router>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}