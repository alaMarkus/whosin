{"version":3,"sources":["menu2.png","whosinlogo.png","components/Navbar.js","config/config.js","components/elements/MyButton.js","components/CreateEvent.js","components/Event.js","App.js","index.js"],"names":["Navbar","useState","showDropdown","setDropDown","toggleDropdown","className","src","logo","menuicon","onClick","to","apiUrl","Button","styled","button","MyButton","props","text","CreateEvent","event","setEvent","showExtras","setShowExtras","selectedExtras","setSelectedExtras","history","useHistory","useEffect","console","log","eventId","undefined","push","sendRequest","eventObj","axios","post","then","result","handleChange","e","obj1","target","name","value","Object","assign","handleExtras","extra","id","selectExtras","onSubmit","preventDefault","possible","i","charAt","Math","floor","random","length","makeid","onChange","autoComplete","required","type","price","maxParticipants","description","Event","useCookies","cookies","setCookie","eventData","setEventData","participants","setParticipants","signName","setSignName","setUserId","render","setRender","showDescription","setShowDescription","showSignUp","setShowSignUp","eventid","useParams","signUpRequest","submitNew","idToUse","userId","uuid","maxAge","sameSite","participantChecker","parti","includes","checkId","participantId","data","result2","eventDate","formattedDate","split","reverse","join","tempId","handleSubmit","window","confirm","handleHide","handleExtra","eventName","priceForGroup","showCalculatedPrice","round","left","spotsLeft","substr","onInput","map","participantName","App","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef221638.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/menu2.ace9d0a9.png\";","export default __webpack_public_path__ + \"static/media/whosinlogo.fb3e51de.png\";","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport \"./navbar.css\"\r\nimport menuicon from '../menu2.png'\r\nimport logo from '../whosinlogo.png'\r\n\r\nconst Navbar = () =>{\r\n    const [showDropdown, setDropDown] = useState(0)\r\n\r\n    const toggleDropdown = () =>{\r\n        if (showDropdown == 0){\r\n            setDropDown(1)\r\n        }else{\r\n            setDropDown(0)\r\n        }\r\n    }\r\n    const dropDown = () =>{\r\n        if (showDropdown==1){\r\n            return (\r\n                <div className=\"drop-down-menu-cntr\">\r\n                    <Link to=\"/createevent\" onClick={toggleDropdown}>Create Event</Link>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <div></div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"navbar-container\">\r\n            <img className =\"navbar-logo\" src={logo}/>\r\n            <img className = \"drop-down-button\" src={menuicon} onClick={toggleDropdown}/>\r\n            <div className = \"drop-down-cntr\">{dropDown()}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar;","//export const apiUrl = \"http://localhost:8085\"\r\nexport const apiUrl = \"http://95.216.173.144:8085\"","import React from 'react'\r\nimport styled from \"styled-components\"\r\n\r\nconst Button = styled.button`\r\n    border: none;\r\n    background-color: #2057c5;\r\n    border-radius: 5pt;\r\n    height: 40pt;\r\n    width: 80pt;\r\n    font-size: x-large;\r\n    text-align: center;\r\n    padding:1vh;\r\n    margin:1vh;\r\n    cursor: pointer;\r\n`\r\n\r\nconst MyButton = (props) =>{\r\n    return (\r\n        <Button onClick={props.onClick}>{props.text}</Button>\r\n    )\r\n}\r\n\r\nexport default MyButton;","import React,{useState, use, useEffect} from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport {apiUrl} from \"../config/config\"\r\nimport MyButton from \"./elements/MyButton\"\r\nimport \"./create-event.css\"\r\n\r\nfunction makeid() {\r\n    var text = \"\";\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n    for (var i = 0; i < 6; i++)\r\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n  \r\n    return text;\r\n  }\r\n\r\n\r\nconst CreateEvent = () =>{\r\n    const [event, setEvent] = useState({\"maxParticipants\": 0,\"price\":0,\"maxParticipants\": 0, \"priceForGroup\": 1,\"description\":\"\"})\r\n    const [maxParts, setMaxParts] = useState(0)\r\n    const [showExtras, setShowExtras] = useState(0)\r\n    const [selectedExtras, setSelectedExtras] = useState({\"price\":0,\"maxParticipants\": 0,\"description\":0})\r\n    const history = useHistory()\r\n\r\n    useEffect(()=>{\r\n        console.log(event.eventId)\r\n        if(event.eventId!=undefined){\r\n            history.push(\"/event/\"+event.eventId)\r\n            sendRequest(event)\r\n        }\r\n    },[event.eventId])\r\n\r\n    const handleSubmit = (e) =>{\r\n        e.preventDefault();\r\n            const baseId = makeid()\r\n            const obj1 = {\"eventId\":baseId}\r\n            setEvent(Object.assign({},event,obj1))\r\n    }\r\n\r\n    const sendRequest = (eventObj) =>{\r\n        axios\r\n            .post(apiUrl+\"/insertevent\", {\"event\":eventObj})\r\n            .then(function(result){\r\n                console.log(result)\r\n            })\r\n        console.log(event)\r\n    }\r\n\r\n    const handleChange = (e) =>{\r\n        const obj1 = {[e.target.name]: e.target.value};\r\n        setEvent(\r\n            Object.assign({},event,obj1)\r\n        )\r\n        console.log(event)\r\n    }\r\n\r\n\r\n    const price = () => {\r\n        if (selectedExtras.price==1){\r\n            return (\r\n                <div className=\"extras\">\r\n                    <label>Price</label>\r\n                    <input className=\"input-field\" name =\"price\" onChange={handleChange} autoComplete=\"off\"></input>\r\n                        <div className=\"radio-cnt\">\r\n                            <div className=\"radio\">\r\n                                <label>\r\n                                    <input name =\"priceForGroup\" type=\"radio\" value=\"0\" onChange={handleChange}/>\r\n                                    Per Person\r\n                                </label>\r\n                            </div>\r\n                                <div className=\"radio\">\r\n                                <label>\r\n                                    <input name =\"priceForGroup\"  type=\"radio\" value=\"1\" onChange={handleChange}/>\r\n                                    For Group\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return (<div></div>)\r\n        }\r\n    }\r\n\r\n    const participantLimit = () =>{\r\n        if(selectedExtras.maxParticipants==1){\r\n            return (\r\n                <div className=\"max-parts-input\">\r\n                    <label>How many can attend?</label>\r\n                    <input className=\"input-field\" name = \"maxParticipants\" onChange={handleChange} autoComplete=\"off\"></input>\r\n                </div>\r\n            )\r\n        }else{\r\n            return (<></>)\r\n        }\r\n    }\r\n\r\n    const description = () =>{\r\n        if(selectedExtras.description==1){\r\n            return(\r\n                <div className=\"description-input-cntr\">\r\n                    <label>Event Description:</label>\r\n                    <textarea className=\"text-area\" name=\"description\" onChange={handleChange} autoComplete=\"off\"></textarea>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(<></>)\r\n        }\r\n    }\r\n\r\n    const handleButton = () => {\r\n        if (showExtras==0){\r\n            setShowExtras(1)\r\n        }else{\r\n            setShowExtras(0)\r\n        }\r\n    }\r\n\r\n    const handleExtras = (e) =>{\r\n        const extra = (e.target.id)\r\n        if (selectedExtras[extra]===0){\r\n            const obj1 = {[e.target.id]: 1};\r\n            console.log(obj1)\r\n            setSelectedExtras(Object.assign({},selectedExtras,obj1))\r\n        }else{\r\n            const obj1 = {[e.target.id]: 0};\r\n            console.log(obj1)\r\n            setSelectedExtras(Object.assign({},selectedExtras,obj1))\r\n        }\r\n        console.log(selectedExtras)\r\n    }\r\n\r\n    const selectExtras = () =>{\r\n        if (showExtras==1){\r\n            return (\r\n                <div className=\"option-container\">\r\n                    <div className=\"extra-option\" id=\"price\" onClick={handleExtras}>Price</div>\r\n                    <div className=\"extra-option\" id=\"maxParticipants\" onClick={handleExtras}>Participant limit</div>\r\n                    <div className=\"extra-option\" id=\"description\" onClick={handleExtras}>description</div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"create-event-container\">\r\n            <div className=\"extras-menu-container\">\r\n                <div className=\"extra-button-container\">\r\n                    <button className=\"extra-button\" onClick={handleButton}>More options</button>\r\n                </div>\r\n                {selectExtras()}\r\n            </div>\r\n            <div className=\"create-event-inner-container\">\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className = \"form-container\">\r\n                        <label>Event Name</label>\r\n                        <input className=\"input-field\" name=\"eventName\" onChange={handleChange} autoComplete=\"off\" required ></input>\r\n\r\n                        <label>Date</label>\r\n                        <input className=\"input-field\" type=\"date\" name=\"eventDate\" onChange={handleChange}></input>\r\n                        <div>\r\n                            {price()}\r\n                            {participantLimit()}\r\n                            {description()}\r\n                        </div>\r\n                        <div className=\"create-button-container\">\r\n                            <MyButton text = \"Create!\" type=\"submit\"/>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateEvent;","import {React,useEffect,useState} from 'react'\r\nimport {BrowserRouter as Router, Switch, Link, Route, useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport {Cookies,useCookies} from 'react-cookie'\r\nimport {v4 as uuid} from 'uuid'\r\n\r\nimport {apiUrl} from \"../config/config\"\r\nimport \"./event.css\"\r\nimport MyButton from \"./elements/MyButton\"\r\n\r\n\r\nfunction pricePerPeson(total, people){\r\n    return total/people\r\n}\r\n\r\nconst Event = (props) =>{\r\n    const [cookies, setCookie, removeCookie] = useCookies(['user']);\r\n\r\n    const [eventData, setEventData] = useState([])\r\n    const [participants, setParticipants] = useState([])\r\n    const [signName, setSignName] = useState('')\r\n    const [userId, setUserId] = useState('')\r\n    const [render, setRender] = useState('')\r\n\r\n    const [showDescription, setShowDescription] = useState(\"show\")\r\n    const [showSignUp, setShowSignUp] = useState(\"show\")\r\n\r\n\r\n    const { eventid } = useParams();\r\n\r\n    const signUpRequest = (submitNew) =>{\r\n        let idToUse = \"\"\r\n        if (cookies.userId==null){\r\n            console.log(\"userid null\")\r\n            idToUse = uuid()\r\n            setUserId(idToUse)\r\n            setCookie(\"userId\", idToUse,{maxAge:\"100000000\",sameSite:\"strict\"})\r\n            setCookie(\"name\", signName,{maxAge:\"100000000\",sameSite:\"strict\"})\r\n        }else{\r\n            console.log(\"userid not null\")\r\n            idToUse=cookies.userId\r\n            if(submitNew){\r\n                console.log(\"submit new\")\r\n                idToUse = uuid()\r\n            }\r\n        }\r\n        axios\r\n            .post(apiUrl+\"/signupforevent\", {\"name\": signName, \"eventId\":eventid,\"participantId\": idToUse})\r\n            .then(function(result){\r\n                console.log(result)\r\n                setShowSignUp(\"hide\")\r\n                setRender(signName)\r\n            })\r\n    }\r\n\r\n    function participantChecker(parti){\r\n        let includes = false\r\n        const checkId = cookies.userId\r\n        console.log(\"checkId =\",checkId)\r\n        for (let i =0;i<parti.length;i++){\r\n            console.log(i,parti[i].participantId)\r\n            if (parti[i].participantId==checkId){\r\n                includes = true;\r\n                break;\r\n            }\r\n        }\r\n        console.log(\"includes =\",includes)\r\n        return includes\r\n    }\r\n\r\n    useEffect(()=>{\r\n        axios.post(apiUrl+\"/getevent\", {\"eventId\": eventid})\r\n            .then(function(result){\r\n                console.log(result.data)\r\n                axios.post(apiUrl+\"/getparticipants\", {\"eventId\": eventid})\r\n                    .then(function(result2){\r\n                        const eventObj = result.data[0]\r\n                        console.log(eventObj.eventDate)\r\n                        const date = eventObj.eventDate\r\n                        const formattedDate = date.split(\"-\").reverse().join(\".\")\r\n                        eventObj.eventDate = formattedDate\r\n                        setEventData(eventObj)\r\n                        console.log(result2.data)\r\n                        setParticipants(result2.data)\r\n\r\n                        const tempId = cookies.userId\r\n                        console.log(\"userId\", tempId)\r\n\r\n                        if(tempId!=null){\r\n                            setUserId(tempId)\r\n                            setSignName(cookies.name)\r\n                            if(participantChecker(result2.data)==true){\r\n                                setShowSignUp(\"hide\")\r\n                            }\r\n                        }\r\n                    })\r\n            })\r\n    },[render])\r\n\r\n\r\n\r\n\r\n    const handleSubmit = () => {\r\n        if(participantChecker(participants)==false){\r\n            console.log(\"submit participantcheck false\")\r\n            signUpRequest(false)\r\n        }else{\r\n            console.log(\"submit participantcheck true\")\r\n            const conf = window.confirm(\"You've already signed up!\\nDo you want to sign up again?\")\r\n            if (conf==true){\r\n                signUpRequest(true)\r\n            }else{\r\n            }\r\n        }\r\n    }\r\n\r\n    const showCalculatedPrice = () =>{\r\n        console.log(eventData.price)\r\n\r\n        if (eventData.price==0){\r\n            return (\r\n                <div></div>\r\n                )\r\n        }\r\n        if (eventData.priceForGroup==1){\r\n            const showCalculatedPrice = Math.round(eventData.price/participants.length*100)/100\r\n            return (\r\n                <div>\r\n                    <div>Price per person:</div>\r\n                    <div>{showCalculatedPrice}€</div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return (\r\n                <div>\r\n                    <div>Price per person:</div>\r\n                    <div>{eventData.price}€</div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const spotsLeft = () =>{\r\n        if (eventData.maxParticipants > 0){\r\n            const left = eventData.maxParticipants-participants.length\r\n            return (\r\n                <div>\r\n                    {left} Spots left\r\n                </div>\r\n            )\r\n        }else{\r\n            return (\r\n                <div></div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const participantNumber = () => {\r\n        return(\r\n            <div>\r\n                {participants.length} Signed up\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const description = () =>{\r\n        if (eventData.description!=undefined){\r\n            if (showDescription === \"hide\"){\r\n                return(\r\n                    <div>\r\n                        <div className=\"description-header-cntr\">\r\n                            <div className=\"description-header\">description:</div>\r\n                            <button className=\"description-button\" onClick={handleHide}>{showDescription}</button>\r\n                        </div>\r\n                        <div>{eventData.description}</div>\r\n                    </div>\r\n                )\r\n            }\r\n            if (showDescription===\"show\"){\r\n                return(\r\n                    <div>\r\n                        <div className=\"description-header-cntr\">\r\n                            <div className=\"description-header\">description:</div>\r\n                            <button className=\"description-button\" onClick={handleHide}>{showDescription}</button>\r\n                        </div>\r\n                        <div>{eventData.description.substr(0,20)}...</div>\r\n                    </div>\r\n                )   \r\n            }\r\n        }else{\r\n            return (\r\n                <></>\r\n            )\r\n        }\r\n    }\r\n\r\n    const dateAndTime = () =>{\r\n        return(\r\n            <div>\r\n                <div>{eventData.eventDate}</div>\r\n                <div></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const handleHide = () =>{\r\n        showDescription===\"hide\"?setShowDescription(\"show\"):setShowDescription(\"hide\")\r\n    }\r\n\r\n    const handleExtra = () =>{\r\n        setShowSignUp(\"show\")\r\n    }\r\n\r\n    const signUpper = () => {\r\n        if (showSignUp == \"show\"){\r\n            return (\r\n                <div className=\"signup-cnt\">\r\n                    <label>name</label>\r\n                    <input className=\"signup-field\" name=\"signupname\" value = {signName} onInput={e=>setSignName(e.target.value)}/>\r\n                    <div className=\"center\">\r\n                        <button className=\"signup-button\" onClick = {handleSubmit}>Count Me In!</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n            <div className=\"signup-cnt\">\r\n                <div className=\"signeup-header\">You've already signed up</div>\r\n                <div className=\"signedup-name\">{cookies.name}!</div>\r\n                <button className=\"signup-extra-button\" onClick={handleExtra}>Sign up someone else</button>\r\n            </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className = \"event-header\">{eventData.eventName}</div>\r\n            <div className=\"event-data-cntr\">\r\n                <div className=\"event-data\">{dateAndTime()}</div>\r\n                <div className=\"event-data\">{showCalculatedPrice()}</div>\r\n                <div className=\"event-data\">{participantNumber()}</div>\r\n                <div className=\"event-data\">{spotsLeft()}</div>\r\n            </div>\r\n            <div className=\"description-cntr\">{description()}</div>\r\n            <div>\r\n                {signUpper()}\r\n            </div>\r\n            <div className=\"participant-cnt\">\r\n                <div>\r\n                    {participants.map(e=>{return(<div key={e.participantId}>{e.participantName}</div>)})}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Event;","import React,{useContext} from 'react'\nimport {BrowserRouter as Router, Switch, Link, Route, useParams} from 'react-router-dom'\nimport './App.css';\nimport Navbar from \"./components/Navbar\"\nimport CreateEvent from \"./components/CreateEvent\"\nimport Event from \"./components/Event\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Router>\n          <Route path=\"/\">\n            <Navbar/>\n          </Route>\n          <Switch>\n          <Route path=\"/createevent\">\n            <CreateEvent/>\n          </Route>\n          <Route path=\"/signup\">\n            <Event/>\n          </Route>\n          <Route path=\"/event/:eventid\">\n            <Event />\n          </Route>\n          </Switch>\n        </Router>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}